<DemoProject>:

# Splash #######################################################################################################################    
    Screen:
        name: "splash"
        MDFloatLayout:
            md_bg_color: 227/255, 100/255, 20/255, 1
            Image:
                source: "img/FoodFinder.png"
                size_hint: 0.9, 0.9
                pos_hint:{"center_x": 0.5, "center_y":0.5}

# TelaLogin #######################################################################################################################    

    Screen:
        name: "tela_login"
        MDFloatLayout:
            md_bg_color: 227/255, 100/255, 20/255, 1
            Image:
                source: "img/FoodFinder.png"
                size_hint: 0.7, 0.7
                pos_hint:{"center_x": 0.5, "center_y":0.7}
        
            MDLabel:
                text: "CPF"
                halign: "center"
                pos_hint:{"center_x": 0.17,  "center_y":0.48}
                theme_text_color: 'Custom'
                text_color: 1,1,1,1
                font_size: "20sp"
                font_name: "WorkSans-Bold.ttf"

            MDTextFieldRound:
                id: cpf
                icon_right: "account"
                normal_color: 1,1,1,1
                color_active: 247/255, 243/255, 235/255, 1
                #theme_text_color: 'ContrastParentBackground'
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                pos_hint:{"center_x": 0.5, "center_y":0.43}
                size_hint_x: 0.7
                size_hint_y: 0.04
                #size_hint_y: 0.06
                #hint_text: "CPF"
                
            MDLabel:
                text: "Senha"
                halign: "center"
                pos_hint:{"center_x": 0.2,  "center_y":0.38}
                theme_text_color: 'Custom'
                text_color: 1,1,1,1
                font_size: "20sp"
                font_name: "WorkSans-Bold.ttf"

            MDTextFieldRound:
                id: senha
                icon_right: 'eye-off'
                normal_color: 1,1,1,1
                color_active: 247/255, 243/255, 235/255, 1
                pos_hint:{"center_x": 0.5, "center_y":0.33}
                size_hint_x: 0.7
                size_hint_y: 0.04
                #size_hint_y: 0.06
                #hint_text: "Senha"
                password: True

            MDFillRoundFlatButton:
                text: "Entrar"
                halign: "center"
                pos_hint:{"center_x": 0.5, "center_y":0.25}
                size_hint_x: 0.75
                size_hint_y: 0.07
                md_bg_color: 251/255, 139/255, 36/255, 1
                font_size: 16
                font_name: "WorkSans-Bold.ttf"
                on_release:
                    # log = 1 ;
                    root.navigation('inicial')
                
            MDLabel:
                text: "Não possui conta? "
                halign: "center"
                pos_hint:{"center_x": 0.34,  "center_y":0.18}
                theme_text_color: 'Custom'
                text_color: 1,1,1,1
                font_size: "17sp"
                font_name: "WorkSans-Light.ttf"

            MDFlatButton:
                text: "Cadastre-se AQUI"
                theme_text_color: "Custom"
                text_color: '#FFFFFF'
                halign: "center"
                pos_hint:{"center_x": 0.66, "center_y":0.18}
                size_hint_x: 0.24
                size_hint_y: 0.05
                md_bg_color: 251/255, 139/255, 36/255, 1
                font_size: 17
                font_name: "WorkSans-Bold.ttf"
                on_release:
                    root.navigation('tela_cadastro')

            
            #MDFlatButton:
             #   text: ""
              #  theme_text_color: "Custom"
             #   text_color: '#FFFFFF'
             #   halign: "center"
             #   pos_hint:{"center_x": 0.55, "center_y":0.08}
             #   size_hint_x: 1
             #   font_size: 16
            #    font_name: "3.ttf"
                #on_release:
                    #root.manager.current = "tela_deslogado"

            MDToolbar:
                title: "Se preferir, siga sem Logar"
                font_size: 14
                halign: 'center'
                md_bg_color: 251/255, 139/255, 36/255, 1
                right_action_items: [['arrow-right-bold', lambda x: root.manager.current('tela_deslogado')]]
                font_name: "WorkSans-Bold.ttf"

# TelaCadastro #######################################################################################################################    

    Screen:
        name: 'tela_cadastro'
        ScrollView:
            MDFloatLayout:
                orientation: 'vertical'
                md_bg_color: 227/255, 100/255, 20/255, 1
                MDIconButton:
                    icon: 'menu-left'
                    pos_hint: {"center_x": .1, "center_y": .9}
                    theme_text_color: "Custom"
                    text_color: 1,1,1,1
                    on_release:
                        root.navigation('tela_login')
                    
                Image:
                    source: "img/FoodFinder.png"
                    size_hint: 0.7, 0.7
                    pos_hint:{"center_x": 0.5,"center_y": 0.83 }
                MDLabel:
                    text: 'Novo Cadastro'
                    font_style: "H4"
                    halign: "center"
                    pos_hint:{"center_y": 0.7}
                    theme_text_color: "Custom"
                    text_color: '#FFFFFF'
                    font_name: "WorkSans-Bold.ttf"
                MDLabel:
                    text: 'Insira suas informações abaixo:'
                    font_style: "H6"
                    halign: "center"
                    pos_hint:{"center_y": 0.65}
                    theme_text_color: "Custom"
                    text_color: '#FFFFFF'
                    font_name: "WorkSans-Light.ttf"
                
                MDLabel:
                    text: "CPF"
                    halign: "center"
                    pos_hint:{"center_x": 0.17,  "center_y":0.6}
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    font_size: "20sp"
                    font_name: "WorkSans-Bold.ttf"

                MDTextFieldRound:
                    id: cdt_cpf
                    normal_color: 1,1,1,1
                    color_active: 247/255, 243/255, 235/255, 1
                    theme_text_color: 'Custom'
                    text_color: 1, 1, 1, 1
                    pos_hint:{"center_x": 0.5, "center_y":0.55}
                    size_hint_x: 0.7
                    size_hint_y: 0.04
                
                MDLabel:
                    text: "Nome Completo"
                    halign: "center"
                    pos_hint:{"center_x": 0.3,  "center_y":0.5}
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    font_size: "20sp"
                    font_name: "WorkSans-Bold.ttf"

                MDTextFieldRound:
                    id: cdt_nome
                    normal_color: 1,1,1,1
                    color_active: 247/255, 243/255, 235/255, 1
                    theme_text_color: 'Custom'
                    text_color: 1, 1, 1, 1
                    pos_hint:{"center_x": 0.5, "center_y":0.45}
                    size_hint_x: 0.7
                    size_hint_y: 0.04
                
                MDLabel:
                    text: "Email"
                    halign: "center"
                    pos_hint:{"center_x": 0.2,  "center_y":0.4}
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    font_size: "20sp"
                    font_name: "WorkSans-Bold.ttf"

                MDTextFieldRound:
                    id: cdt_email
                    normal_color: 1,1,1,1
                    color_active: 247/255, 243/255, 235/255, 1
                    theme_text_color: 'Custom'
                    text_color: 1, 1, 1, 1
                    pos_hint:{"center_x": 0.5, "center_y":0.35}
                    size_hint_x: 0.7
                    size_hint_y: 0.04

                MDLabel:
                    text: "Data de Nascimento"
                    halign: "center"
                    pos_hint:{"center_x": 0.35,  "center_y":0.3}
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    font_size: "20sp"
                    font_name: "WorkSans-Bold.ttf"

                MDTextFieldRound:
                    id: cdt_data_nascimento
                    normal_color: 1,1,1,1
                    color_active: 247/255, 243/255, 235/255, 1
                    theme_text_color: 'Custom'
                    text_color: 1, 1, 1, 1
                    pos_hint:{"center_x": 0.5, "center_y":0.25}
                    size_hint_x: 0.7
                    size_hint_y: 0.04  

                MDLabel:
                    text: "Senha"
                    halign: "center"
                    pos_hint:{"center_x": 0.2,  "center_y":0.2}
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    font_size: "20sp"
                    font_name: "WorkSans-Bold.ttf"

                MDTextFieldRound:
                    id: cdt_senha
                    normal_color: 1,1,1,1
                    color_active: 247/255, 243/255, 235/255, 1
                    theme_text_color: 'Custom'
                    text_color: 1, 1, 1, 1
                    pos_hint:{"center_x": 0.5, "center_y":0.15}
                    size_hint_x: 0.7
                    size_hint_y: 0.04  
                    password: True      
                
                MDFillRoundFlatButton:
                    text: "Cadastrar"
                    halign: "center"
                    pos_hint:{"center_x": 0.5, "center_y":0.05}
                    size_hint_x: 0.75
                    size_hint_y: 0.07
                    md_bg_color: 251/255, 139/255, 36/255, 1
                    font_size: 16
                    font_name: "WorkSans-Bold.ttf"
                    on_release:
                        root.cadastrar()

                        
            
            
                






# Resultados #######################################################################################################################    

    Screen:
        name: 'resultados'
        MDBoxLayout:
            id: 'screen_results_box'
            orientation: 'vertical'
            MDToolbar:
                title: "Resultados"
                left_action_items: [['chevron-left', lambda x: root.navigation('inicial')]]
            ScrollView:
                pos_hint: {'center_x': .55, 'y': .35}
                #drag_threshold: "50dp"
                MDList:
                    id: results_box
                    size_hint_y:None
                    #spacing: "110dp"

                    
            
            
    
# Inicial #######################################################################################################################    

    Screen:
        name: 'inicial'
        BoxLayout:
            orientation: 'vertical'
            MDToolbar:
                id: barra_principal
                title: "FoodFinder"
                halign: "center"
                right_action_items: [["account-arrow-left", lambda x: root.voltar_login()]]

            MDBottomNavigation:
                #color stuff
                #panel_color: 0,0,1,1
                elected_color_background: 0, 0, 1, .4
                

# Home #######################################################################################################################    

                MDBottomNavigationItem:
                    id: 'BHome'
                    text: "Home"
                    icon: 'home'
                    name: 'home'
                    MDBoxLayout:
                        orientation:'vertical'
                        MDBoxLayout:
                            orientation:'vertical'
                            MDLabel:
                                text: "Seja bem-vindo ao FoodFinder!"
                                halign: "center"
                                        
                            MDTextField:
                                id: mealType
                                pos_hint:{"center_x": 0.5}
                                size_hint_x: 0.4
                                mode: "rectangle"
                                hint_text: "Insira o tipo de comida"

                            MDTextField:
                                id: location
                                pos_hint:{"center_x": 0.5}
                                size_hint_x: 0.4
                                mode: "rectangle"
                                hint_text: "Insira o local"
                                    
                            MDFillRoundFlatButton:
                                id: bt_buscar
                                text: "Buscar"
                                size_hint_x: 0.4
                                size_hint_y: 0.4
                                pos_hint:{"center_x": 0.5}
                                on_release: 
                                    root.remove_cards()
                                    var=root.busca()
                                    for v in var: \
                                    root.abrir_card(v['name'],v['address'], v['photo'])
                                    root.navigation('resultados')
                        ScrollView: 
                            MDList:
                                id: box
                                size_hint_y:None
                                    
                        
# TelaConta #######################################################################################################################    

                MDBottomNavigationItem:
                    name: "tela_conta"
                    text: "Conta"
                    icon: 'account-cog'
                    TelaConta:
                

# Favoritos #######################################################################################################################    

                MDBottomNavigationItem:
                    text: "Favoritos"
                    icon: 'star'
                    name: "tela_favoritos"
                    MDFloatLayout:
                        ScrollView:
                            MDList:
                            #OneLineListItem:
                            #TwoLineListItem:
                                ThreeLineListItem:
                                    id: item1
                                    text: "Japa Maneiro"
                                    secondary_text: "Second Line"
                                    tertiary_text: "Third Line"
                                    fourth_text: "quarta linha"
                                    # on_release: app.presser(self, "item1")

                                ThreeLineListItem:
                                    id: item2
                                    text: "Rei do Sushi"
                                    secondary_text: "Second Line"
                                    tertiary_text: "Third Line"
                                    fourth_text: "quarta linha"
                                    # on_release: app.presser(self, "item2")   
                    
# Card de Resultados #######################################################################################################################       

<ResultadosCard>
    name: 'resultados_card'
    orientation: 'vertical'
    MDBoxLayout:
        id: box_top
        FitImage:
            id: photo
            source: "https://img.itdg.com.br/tdg/images/blog/uploads/2017/07/shutterstock_413580649.jpg?w=1200"
            size_hint: .3, None
        
        MDBoxLayout:
            orientation: "vertical"
            size_hint: .05, None

        MDBoxLayout:
            id: text_box
            orientation: "vertical"
            adaptive_height: True
            spacing: "10dp"
            padding: 0, "10dp", "10dp", "10dp"

            MDLabel:
                id: name
                text: ''
                theme_text_color: "Primary"
                font_style: "H5"
                bold: True
                adaptive_height: True

            MDLabel:
                id: address
                text: ""
                adaptive_height: True
                theme_text_color: "Primary"
    MDSeparator:

# Card de Alteração de Senha #######################################################################################################################       
<SenhaCard>:
    orientation: 'vertical'
    id: card
    size_hint: .7, .55
    pos_hint: {'center_x': .5, 'center_y': .5}

    MDBoxLayout:
        size_hint_y: .2
        padding: [40, 10, 10, 10]
        md_bg_color: app.theme_cls.primary_color
        
        MDLabel:
            text: 'Alterar Senha'
            #pos_hint:{'center_y': .5}
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
        
        MDIconButton:
            icon: 'close'
            #pos_hint:{'center_y': .5}
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            on_release: root.fechar()
    
    MDFloatLayout:
        MDTextField:
            pos_hint: {'center_x': .5, 'center_y': .85} 
            size_hint_x: .8
            hint_text: 'Senha antiga'

        MDTextField: 
            pos_hint: {'center_x': .5, 'center_y': .65} 
            size_hint_x: .8
            hint_text: 'Nova senha'

        MDTextField: 
            pos_hint: {'center_x': .5, 'center_y': .45} 
            size_hint_x: .8
            hint_text: 'Confirmar senha'
        
        MDRaisedButton:
            pos_hint: {'center_x': .5, 'center_y': .2} 
            size_hint_x: .5
            text: 'Confirmar'

# Tela de Conta #######################################################################################################################      
<TelaConta>: #da pra definir a posição exata dos widgets
    MDIconButton:
        pos_hint: {'center_x': .5, 'center_y': .8}
        icon: 'camera-account'
        user_font_size: '75sp' #define o tamanho do icon
    MDLabel:
        text: 'José Marques' #recebe o nome do usuário do banco
        halign: "center"
        pos_hint: {'center_x': .5, 'center_y': .7}
    
    # Email
    MDLabel:
        text: 'Email:' 
        halign: "center"
        pos_hint: {'center_x': .1, 'center_y': .6}
    MDTextField:
        size_hint_x: .7
        hint_text: 'Zezinhodoidao@gmail.com'
        disabled:True
        pos_hint: {'center_x': .52, 'center_y': .6}
    MDIconButton:
        pos_hint: {'center_x': .9, 'center_y': .6}
        icon: 'pencil'
    
    #CPF
    MDLabel:
        text: 'CPF:' 
        halign: "center"
        pos_hint: {'center_x': .1, 'center_y': .53}
    MDTextField:
        size_hint_x: .7
        hint_text: '12345678911'
        disabled:True
        pos_hint: {'center_x': .52, 'center_y': .53}
    

    #Data Nascimento
    MDLabel:
        text: 'Data de Nascimento:' 
        halign: "center"
        pos_hint: {'center_x': .235, 'center_y': .46}
    MDTextField:
        size_hint_x: .43
        hint_text: '19/05/2022'
        disabled:True
        pos_hint: {'center_x': .651, 'center_y': .46}

    MDRaisedButton:
        size_hint_x: .4
        text: "Alterar Senha"
        pos_hint: {'center_x': .5, 'center_y': .35} #define a posição
        on_release: root.alter_senha()
    
    MDRectangleFlatButton:
        size_hint_x: .4
        text: "Excluir Conta"
        pos_hint: {'center_x': .5, 'center_y': .27}
        on_release: app.show_alert_dialog()
        
